targets:
  ComradeDVR:
    type: application
    platform: iOS
    deploymentTarget: 14.0
    sources:
      - path: ../src/App
    settings:
      base:
        ALWAYS_EMBED_SWIFT_STANDARD_LIBRARIES: $(inherited)
        CODE_SIGN_IDENTITY: iPhone Developer
        CODE_SIGN_STYLE: Manual
        DEVELOPMENT_TEAM: BGJK494M2C
        PROVISIONING_PROFILE_SPECIFIER: "ComradeDVR Developer profile"
        DEFINES_MODULE: YES
        INFOPLIST_FILE: src/App/Info.plist
        PRODUCT_BUNDLE_IDENTIFIER: com.trszdev.ComradeDVR
        TARGETED_DEVICE_FAMILY: 1
        XCODEGEN_STATE: YES
      configs:
        Production:
          ASSETCATALOG_COMPILER_APPICON_NAME: AppIcon
        Staging:
          ASSETCATALOG_COMPILER_APPICON_NAME: AppIconInverted
        Debug:
          ASSETCATALOG_COMPILER_APPICON_NAME: AppIconInverted
    scheme:
      testTargets:
        - ComradeDVRTests
      environmentVariables:
        DYLD_PRINT_STATISTICS: 1
    postCompileScripts:
      - script: |
          brew bundle exec swiftlint -- autocorrect
          brew bundle exec swiftlint -- --no-cache --strict
        name: SwiftLint
  ComradeDVRTests:
    type: bundle.unit-test
    platform: iOS
    deploymentTarget: 14.0
    sources:
      - path: ../src/AppTests
    settings:
      base:
        ALWAYS_EMBED_SWIFT_STANDARD_LIBRARIES: $(inherited)
        DEFINES_MODULE: YES
        PRODUCT_BUNDLE_IDENTIFIER: com.trszdev.ComradeDVRTests
        TARGETED_DEVICE_FAMILY: 1
        INFOPLIST_FILE: src/AppTests/Info.plist
        XCODEGEN_STATE: YES
      configs:
        Production:
          ASSETCATALOG_COMPILER_APPICON_NAME: AppIcon
        Staging:
          ASSETCATALOG_COMPILER_APPICON_NAME: AppIconInverted
        Debug:
          ASSETCATALOG_COMPILER_APPICON_NAME: AppIconInverted
    postCompileScripts:
      - script: |
          brew bundle exec swiftlint -- autocorrect
          brew bundle exec swiftlint -- --no-cache --strict
        name: SwiftLint
  TestCameraKitApp:
    type: application
    platform: iOS
    deploymentTarget: 14.0
    sources:
      - path: ../src/TestCameraKitApp
    settings:
      base:
        ALWAYS_EMBED_SWIFT_STANDARD_LIBRARIES: $(inherited)
        CODE_SIGN_IDENTITY: iPhone Developer
        CODE_SIGN_STYLE: Manual
        DEVELOPMENT_TEAM: BGJK494M2C
        PROVISIONING_PROFILE_SPECIFIER: "TestCameraKitApp Developer profile"
        DEFINES_MODULE: YES
        INFOPLIST_FILE: src/TestCameraKitApp/Info.plist
        PRODUCT_BUNDLE_IDENTIFIER: com.trszdev.TestCameraKitApp
        TARGETED_DEVICE_FAMILY: 1
        XCODEGEN_STATE: YES
        ASSETCATALOG_COMPILER_APPICON_NAME: AppIcon
    scheme:
      environmentVariables:
        DYLD_PRINT_STATISTICS: 1
    postCompileScripts:
      - script: |
          brew bundle exec swiftlint -- autocorrect
          brew bundle exec swiftlint -- --no-cache --strict
        name: SwiftLint

