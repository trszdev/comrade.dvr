targets:
  ComradeDVR:
    type: application
    platform: iOS
    deploymentTarget: 14.0
    sources:
      - path: ../src/App
        excludes:
          - Readme.txt
    settings:
      base:
        ALWAYS_EMBED_SWIFT_STANDARD_LIBRARIES: $(inherited)
        CODE_SIGN_IDENTITY: iPhone Developer
        CODE_SIGN_STYLE: Automatic
        DEVELOPMENT_TEAM: H6UDD5Y5X5
        DEFINES_MODULE: YES
        INFOPLIST_FILE: src/App/Info.plist
        PRODUCT_BUNDLE_IDENTIFIER: com.trszdev.ComradeDVR
        TARGETED_DEVICE_FAMILY: 1
        XCODEGEN_STATE: YES
      configs:
        Production:
          ASSETCATALOG_COMPILER_APPICON_NAME: AppIcon
        Staging:
          ASSETCATALOG_COMPILER_APPICON_NAME: AppIconStaging
        Debug:
          ASSETCATALOG_COMPILER_APPICON_NAME: AppIconDebug
    scheme:
      environmentVariables:
        DYLD_PRINT_STATISTICS: 1
    postCompileScripts:
      - script: |
          brew bundle exec swiftlint -- autocorrect
          brew bundle exec swiftlint -- --no-cache
        name: SwiftLint

